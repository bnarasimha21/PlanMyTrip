/* Mobile-only overrides (<=767px) */

/* Prevent horizontal overflow */
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
  width: 100% !important;
}

#root {
  max-width: 100vw !important;
  overflow-x: hidden !important;
}

/* Features: 2-column grid on phones, compact cards & fonts */
#features-grid {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  gap: 0.75rem !important;
}
#features-grid .feature-card {
  padding: 0.75rem !important; /* p-3 */
}
#features-grid .feature-card .feature-header {
  display: flex !important;
  align-items: center !important; /* vertical center */
  gap: 0.75rem !important; /* more space between icon and title */
  margin-bottom: 0.5rem !important;
}
#features-grid .feature-card .feature-header .w-16,
#features-grid .feature-card .feature-header .h-16 {
  width: 2.25rem !important;
  height: 2.25rem !important;
  margin-bottom: 0 !important;
}
#features-grid .feature-card h3 { /* card heading */
  font-size: 0.95rem !important; /* slightly smaller */
  line-height: 1.25rem !important; /* better wrap spacing */
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}
#features-grid .feature-card p { /* card body */
  font-size: 0.8125rem !important; /* ~text-sm */
  line-height: 1.25rem !important;
}

/* Add vertical gaps inside feature cards */
#features-grid .feature-card > * + * {
  margin-top: 0.5rem !important;
}

/* Pricing: 2-column grid on phones, compact plans & fonts */
#pricing-grid {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  gap: 0.75rem !important;
}
#pricing-grid .plan-card {
  padding: 0.75rem !important;
}
#pricing-grid .plan-card h3 { /* plan title */
  font-size: 1rem !important;
}
#pricing-grid .plan-card .text-4xl { /* price */
  font-size: 1.25rem !important;
}
#pricing-grid .plan-card li { /* feature bullets */
  font-size: 0.8125rem !important;
}

/* Add vertical gaps inside pricing cards */
#pricing-grid .plan-card > * + * {
  margin-top: 0.75rem !important;
}
#pricing-grid .plan-card ul li + li {
  margin-top: 0.375rem !important;
}

/* Add slight vertical gaps between top-level sections on mobile */
section, #features, .py-20 {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}


/* Make the overall typography and spacing more compact */
html {
  font-size: 14px !important; /* shrink rem scale on phones */
}

/* Common padding reductions */
.px-6 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
.py-6 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
.p-6  { padding: 0.75rem !important; }
.px-4 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
.py-3 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
.px-8 { padding-left: 1rem !important; padding-right: 1rem !important; }
.p-8  { padding: 1rem !important; }
.py-20 { padding-top: 1.25rem !important; padding-bottom: 1.25rem !important; }
.pt-20 { padding-top: 1.25rem !important; }
.pb-20 { padding-bottom: 1.25rem !important; }

/* Tighter gaps */
.gap-4 { gap: 0.5rem !important; }
.gap-3 { gap: 0.5rem !important; }
.gap-8 { gap: 0.75rem !important; }
.mb-16 { margin-bottom: 0.75rem !important; }
.mb-8 { margin-bottom: 0.5rem !important; }

/* Reduce common text sizes */
.text-7xl { font-size: 2rem !important; line-height: 2.25rem !important; }
.text-6xl { font-size: 1.875rem !important; line-height: 2.125rem !important; }
.text-5xl { font-size: 1.75rem !important; line-height: 2rem !important; }
.text-4xl { font-size: 1.375rem !important; line-height: 1.75rem !important; }
.text-3xl { font-size: 1.5rem !important; line-height: 1.75rem !important; }
.text-2xl { font-size: 1.25rem !important; line-height: 1.5rem !important; }
.text-xl  { font-size: 1rem !important; line-height: 1.375rem !important; }
.text-lg  { font-size: 0.9375rem !important; line-height: 1.25rem !important; }
.text-base{ font-size: 0.875rem !important; line-height: 1.25rem !important; }

/* Stack the main TripPlanner layout and let height grow */
.flex.h-\[calc\(100vh-100px\)\] {
  flex-direction: column !important;
  height: auto !important;
}

/* Make fixed sidebars take full width on mobile */
.w-\[520px\] {
  width: 100% !important;
}

/* Ensure the map section is visible with a sensible height - reduced for mobile */
.relative > .w-full.h-full.rounded-none {
  height: 45vh !important;
  min-height: 300px !important;
  max-height: 50vh !important;
}

/* Align map horizontally with panel content on mobile */
#map-wrapper {
  padding-left: 1rem !important; /* match p-4 */
  padding-right: 1rem !important;
  box-sizing: border-box !important;
}

/* Make map overlay controls smaller on mobile for cleaner view */
#day-night-toggle {
  transform: scale(0.8) !important;
  transform-origin: top left !important;
  top: 0.5rem !important;
  left: 1.5rem !important;
}

#route-controls {
  transform: scale(0.9) !important;
  transform-origin: top right !important;
  top: 0.5rem !important;
  right: 4.5rem !important;
}

#route-controls button {
  font-size: 0.8125rem !important; /* small */
  padding: 0.5rem 0.75rem !important; /* tighter */
}

/* Slightly narrower default wide buttons */
.px-6.py-3 { padding-left: 1rem !important; padding-right: 1rem !important; }
.px-12 { padding-left: 1.25rem !important; padding-right: 1.25rem !important; }
.py-4  { padding-top: 0.625rem !important; padding-bottom: 0.625rem !important; }

/* Reduce some utility widths used for buttons (e.g., Google login) */
.w-48 { width: 10rem !important; }

/* Cards and icons smaller */
.rounded-2xl { border-radius: 0.75rem !important; }
.w-16 { width: 2.5rem !important; }
.h-16 { height: 2.5rem !important; }

/* Mobile Assistant Panel - below map - ensure proper spacing */
#map-wrapper + div {
  width: 100% !important;
  margin-top: 0 !important;
}

/* Mobile Assistant max height adjustment for chat */
[class*="max-h-\[50vh\]"] {
  max-height: 50vh !important;
  min-height: 300px !important;
  display: flex !important;
  flex-direction: column !important;
}

/* Ensure chat messages area is scrollable on mobile */
.chat-messages {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch !important;
  min-height: 0 !important; /* Critical: allows flex child to shrink below content size for scrolling */
  scrollbar-width: thin !important; /* Firefox */
  scrollbar-color: rgba(59, 130, 246, 0.5) rgba(0, 0, 0, 0.05) !important; /* Firefox */
  -ms-overflow-style: auto !important; /* IE/Edge */
  will-change: scroll-position !important; /* Optimize for scrolling */
  touch-action: pan-y !important; /* Enable vertical touch scrolling */
}

/* Show scrollbar on mobile so users know they can scroll */
.chat-messages::-webkit-scrollbar {
  display: block !important;
  width: 6px !important;
}

.chat-messages::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05) !important;
  border-radius: 10px !important;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.5) !important;
  border-radius: 10px !important;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.7) !important;
}

/* Fix parent containers to allow proper scrolling */
.flex.flex-col.overflow-hidden .chat-messages {
  flex: 1 1 auto !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch !important;
  min-height: 0 !important; /* Important: allows flex child to shrink below content size */
  position: relative !important;
  max-height: 100% !important; /* Changed from height: 100% to allow content to expand */
}

/* Ensure the parent container with max-h-[50vh] properly constrains height */
.bg-gradient-to-r.from-blue-50.to-sky-50.rounded-2xl.border.border-blue-200.shadow-lg.flex.flex-col.h-full {
  height: auto !important;
  max-height: 50vh !important;
  display: flex !important;
  flex-direction: column !important;
  min-height: 300px !important;
  overflow: hidden !important; /* Prevent parent from scrolling */
}

/* Ensure the outer container allows proper layout */
.w-full.bg-white\/95.backdrop-blur-xl.border-t.border-blue-200.p-6.flex.flex-col.overflow-hidden {
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* Ensure chat messages container maintains scrollability after content updates */
.chat-messages > div {
  min-height: min-content !important;
}

/* Force recalculation of scroll container after updates */
.chat-messages:after {
  content: '';
  display: block;
  height: 0;
  clear: both;
}

/* Header Mobile Improvements */
.bg-white\/95.backdrop-blur-md {
  padding-top: 0.75rem !important;
  padding-bottom: 0.75rem !important;
}

/* Header Logo on Mobile */
.text-xl.font-bold {
  font-size: 1.25rem !important;
  line-height: 1.5rem !important;
}

/* Header User Profile Compact on Mobile */
.relative.flex.items-center.gap-2 {
  gap: 0.5rem !important;
}

/* Subscription Status Compact on Mobile */
.bg-gradient-to-r.from-blue-50.to-sky-50.rounded-xl {
  padding: 0.375rem 0.625rem !important;
  border-radius: 0.5rem !important;
}

/* Google Login Button on Mobile */
.google-login-wrapper {
  width: 9rem !important;
}

/* Header spacing adjustments */
.px-4.py-3 {
  padding-left: 1rem !important;
  padding-right: 1rem !important;
  padding-top: 0.75rem !important;
  padding-bottom: 0.75rem !important;
}

/* Ensure header elements don't overflow - but allow dropdowns to show */
.flex.items-center.justify-between {
  gap: 0.5rem !important;
  overflow: visible !important;
}

/* Specifically for header containers with dropdowns - allow overflow for dropdowns */
.flex.items-center.gap-4.relative.z-50,
.flex.items-center.gap-2.flex-shrink-0.relative.z-50,
nav .flex.items-center.gap-4,
nav .flex.items-center.gap-2 {
  overflow: visible !important;
}

/* UserProfile dropdown container - ensure it can overflow on mobile */
.dropdown-open-mobile {
  overflow: visible !important;
  z-index: 9999 !important;
}

/* Parent containers of UserProfile dropdown should allow overflow */
.dropdown-open-mobile,
.dropdown-open-mobile ~ *,
nav .dropdown-open-mobile {
  overflow: visible !important;
}

/* User profile text truncation */
.text-sm.truncate {
  max-width: 80px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

/* Subscription badge compact */
.px-1\.5.py-0\.5 {
  padding-left: 0.375rem !important;
  padding-right: 0.375rem !important;
  padding-top: 0.125rem !important;
  padding-bottom: 0.125rem !important;
}

/* Preserve Get Details and Generate Itinerary button styling - keep original compact size */
/* Override mobile padding for action buttons in Trip Request panel */
.flex.gap-3 button.py-3.px-4,
.flex.gap-3 button.bg-gradient-to-r,
button.bg-gradient-to-r.from-blue-600.px-4,
button.bg-gradient-to-r.from-sky-600.px-4 {
  background-image: linear-gradient(to right, var(--tw-gradient-stops)) !important;
  padding-top: 0.5rem !important; /* Slightly bigger vertical padding */
  padding-bottom: 0.5rem !important; /* Slightly bigger vertical padding */
  padding-left: 0.75rem !important; /* Slightly bigger horizontal padding */
  padding-right: 0.75rem !important; /* Slightly bigger horizontal padding */
  font-size: 0.875rem !important; /* text-sm - slightly bigger font */
  min-height: auto !important;
  height: auto !important;
  line-height: 1.375rem !important; /* Better line height */
  touch-action: manipulation !important; /* Enable proper touch handling on buttons */
  -webkit-tap-highlight-color: transparent !important; /* Remove tap highlight */
  cursor: pointer !important; /* Ensure pointer cursor */
  user-select: none !important; /* Prevent text selection on touch */
  -webkit-user-select: none !important;
}

/* Prevent zoom on input focus - iOS Safari requirement: font-size must be >= 16px */
/* Must use 16px (not rem/em) to prevent iOS Safari zoom on focus */
textarea,
input[type="text"],
input[type="email"],
input[type="search"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea.text-xl,
input.text-xl,
input.text-lg {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100% !important;
}



